{{! Login Template - Handlebars syntax }}
<form method="POST" action="/auth/login" class="needs-validation" novalidate>
    <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
    <input type="hidden" name="redirect" value="{{ redirect }}">

    <div class="mb-3">
        <label for="email" class="form-label">Email Address</label>
        <div class="input-group">
            <span class="input-group-text">
                <i class="fas fa-envelope text-muted"></i>
            </span>
            <input type="email"
                   class="form-control {{#if errors.email}}is-invalid{{/if}}"
                   id="email"
                   name="email"
                   placeholder="Enter your email"
                   value="{{ old_input.email }}"
                   required>
            {{#if errors.email}}
                <div class="invalid-feedback">
                    {{#each errors.email}}
                        {{ this }}
                    {{/each}}
                </div>
            {{/if}}
        </div>
    </div>

    <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <div class="input-group">
            <span class="input-group-text">
                <i class="fas fa-lock text-muted"></i>
            </span>
            <input type="password"
                   class="form-control {{#if errors.password}}is-invalid{{/if}}"
                   id="password"
                   name="password"
                   placeholder="Enter your password"
                   required>
            <button class="btn btn-outline-secondary"
                    type="button"
                    onclick="togglePassword('password', 'password-icon')"
                    style="border-left: none;">
                <i class="fas fa-eye" id="password-icon"></i>
            </button>
            {{#if errors.password}}
                <div class="invalid-feedback">
                    {{#each errors.password}}
                        {{ this }}
                    {{/each}}
                </div>
            {{/if}}
        </div>
    </div>

    <div class="mb-3">
        <div class="row">
            <div class="col">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="remember_me" name="remember_me">
                    <label class="form-check-label" for="remember_me">
                        Remember me
                    </label>
                </div>
            </div>
            <div class="col text-end">
                <a href="/auth/forgot-password" class="text-auth">Forgot Password?</a>
            </div>
        </div>
    </div>

    <div class="d-grid gap-2 mb-3">
        <button type="submit" class="btn btn-primary">
            <i class="fas fa-sign-in-alt me-2"></i>
            Sign In
        </button>
    </div>

    {{#if social_login_enabled}}
    <div class="divider">
        <span>or continue with</span>
    </div>

    <div class="social-login">
        {{#if google_login}}
        <button type="button" class="btn btn-social">
            <i class="fab fa-google text-danger me-2"></i>
            Continue with Google
        </button>
        {{/if}}

        {{#if github_login}}
        <button type="button" class="btn btn-social">
            <i class="fab fa-github text-dark me-2"></i>
            Continue with GitHub
        </button>
        {{/if}}

        {{#if microsoft_login}}
        <button type="button" class="btn btn-social">
            <i class="fab fa-microsoft text-primary me-2"></i>
            Continue with Microsoft
        </button>
        {{/if}}
    </div>
    {{/if}}
</form>

{{#if registration_enabled}}
<div class="auth-links">
    <p class="mb-0">Don't have an account?
        <a href="/auth/register" class="text-auth">Create one here</a>
    </p>
</div>
{{/if}}

{{#if is_development}}
{{#if demo_email}}
{{#if demo_password}}
<div class="mt-3">
    <div class="alert alert-info" role="alert">
        <i class="fas fa-info-circle me-2"></i>
        <strong>Demo Account:</strong><br>
        Email: {{ demo_email }}<br>
        Password: {{ demo_password }}
    </div>
</div>
{{/if}}
{{/if}}
{{/if}}